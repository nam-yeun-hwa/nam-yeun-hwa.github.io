2:I[5250,["250","static/chunks/250-8b90be581650ff9d.js","399","static/chunks/399-caf055eb211349e2.js","216","static/chunks/app/(layoutCase)/tags/%5Btagname%5D/%5Bpostid%5D/page-476f642580858048.js"],""]
3:I[9006,["250","static/chunks/250-8b90be581650ff9d.js","399","static/chunks/399-caf055eb211349e2.js","216","static/chunks/app/(layoutCase)/tags/%5Btagname%5D/%5Bpostid%5D/page-476f642580858048.js"],""]
4:I[8843,["250","static/chunks/250-8b90be581650ff9d.js","399","static/chunks/399-caf055eb211349e2.js","216","static/chunks/app/(layoutCase)/tags/%5Btagname%5D/%5Bpostid%5D/page-476f642580858048.js"],""]
5:I[777,["250","static/chunks/250-8b90be581650ff9d.js","399","static/chunks/399-caf055eb211349e2.js","216","static/chunks/app/(layoutCase)/tags/%5Btagname%5D/%5Bpostid%5D/page-476f642580858048.js"],""]
6:I[5613,[],""]
9:I[1778,[],""]
d:I[8765,["250","static/chunks/250-8b90be581650ff9d.js","399","static/chunks/399-caf055eb211349e2.js","262","static/chunks/262-683004883e01034d.js","35","static/chunks/35-49bea45569ed55c7.js","464","static/chunks/app/(layoutCase)/layout-e9c1ba8c7c5d810f.js"],""]
7:["tagname","Vue","d"]
8:["postid","72","d"]
a:"$Lb"
e:[]
f:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
10:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
11:{"display":"inline-block"}
12:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["nkfNnfULw2CnwAoJ46PQL",[[["",{"children":["(layoutCase)",{"children":["tags",{"children":[["tagname","Vue","d"],{"children":[["postid","72","d"],{"children":["__PAGE__?{\"tagname\":\"Vue\",\"postid\":\"72\"}",{}]}]}]}],"search":["__DEFAULT__",{}]}]},"$undefined","$undefined",true],["",{"children":["(layoutCase)",{"children":["tags",{"children":[["tagname","Vue","d"],{"children":[["postid","72","d"],{"children":["__PAGE__",{},["$L1",[[["$","article",null,{"className":"$undefined","children":["$","header",null,{"children":["$","h1",null,{"className":"postUserInfo_h1__uhAqy","children":"[TECH-QA] Text Compression"}]}]}],["$","div",null,{"className":"postUserInfo_post_meta__ABvuC","children":[["$","span",null,{"children":["Posted"," ",["$","time",null,{"className":"postUserInfo_time__2exyR","children":["2 months"," "]}]]}],["$","span",null,{"className":"postUserInfo_update__f345P","children":["Updated"," ",["$","time",null,{"className":"postUserInfo_time__2exyR","children":"2 months"}]]}]]}],["$","div",null,{"children":["$","span",null,{"className":"postUserInfo_post_meta__ABvuC","children":["By"," ",["$","em",null,{"children":["$","$L2",null,{"href":"https://nam-yeun-hwa.github.io/","className":"postUserInfo_author__fVGYM","children":"베짱이가 되고싶은 개미。"}]}]]}]}]],[["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"웹 페이지를 로드 할때는 그에 필요한 리소스 들도 같이 다운로드 받습니다. 대표적으로 HTML, JS, CSS 와 같은 텍스트들로 이루어진 리소스들이 있는데요.\n\t\t이 리소스들의 사이즈가 클수록 페이지의 로딩속도는 느려질 수 밖에 없습니다.\n\t\t이런 문서들의 사이즈를 줄이기 위한 여러가지 방법 중 Text Compression을 소개해 보려고 합니다."}}],[false,["$","h2",null,{"className":"heading_h2__fsXMw","style":{"fontWeight":"NORMAL"},"children":"Text Compression"}],false,false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"서버에서 보내는 리소스를 압축해서 다운로드할 파일들의 용량을 줄여 더 빠른 서비스를 이용 할수 있도록 합니다."}}],["$","$L3",null,{"imgPath":"textCompression_image1.jpg","alt":"textCompression 사용","width":"80%","round":"12px"}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"웹서비스를 실행하고 네트워크 탭에서 api가 호출되는 부분을 클릭하여 헤더를 살펴 보면 Response Headers의 내용 중  <span class=\"point\">Content-Encoding</span>를 확인 할 수 있습니다. <span class=\"point\">이미지를 확인해 보면 gzip 이라는 인코딩 방식을 통해서 압축</span>되어 있다는 것을 알 수 있습니다.\n\n<b>요청을 보낼 때 클라이언트가 어떤 압축 알고리즘을 수용할 수 있는지 나타내면서 서버에서 이러한 방식으로 압축해달라고 요청하는 의미가 됩니다.</b>\n\n요청을 받으면 서버에서는 클라이언트가 원하는 압축 방식중에서 가능한 알고리즘으로 압축한 뒤에 응답을 보내주고 사용된 압축 알고리즘이 content-encoding 헤더에 명시 하게 됩니다.\n\n이 헤더들의 값으로 gzip, compress, br, deflate 등 압축알고리즘에는 여러가지가 있지만 웹상에서는 일반적으로 GZIP과 Deplate 두가지를 사용 합니다."}}],[false,["$","h2",null,{"className":"heading_h2__fsXMw","style":{"fontWeight":"NORMAL"},"children":"gzip"}],false,false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"gzip 은 유닉스에서 태어난 오픈소스 압축 프로그램 입니다. 알집이나 7zip 에서 사용하는 것과 동일한 Deflate 압축 알고리즘을 사용하지만 하나의 파일만 압축할 수 있기 때문에 주로 tar 프로그램과 함께 사용하곤 합니다. 불편하기 짝이없어 보이는 gzip 압축 프로그램에 주목해야 하는 이유는 gzip 압축이 웹사이트 성능 개선과 밀접한 연관이 있기 때문입니다.\n\nGZIP은 Deplate을 단독으로 사용하는 것보다 더 좋은 압축률을 제공 합니다.\n\ngzip의 압축 알고리즘은 deflate 알고리즘과 같으며 deflate와 비교해서 차이점은 <span class=\"point\"> gzip 포맷은 추가적인 헤더와 체크섬을 사용하여 오류검출에 더 강점이 있습니다.</span>"}}],[false,["$","h2",null,{"className":"heading_h2__fsXMw","style":{"fontWeight":"NORMAL"},"children":"gzip을 사용한 텍스트 압축"}],false,false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"gzip은 텍스트 파일을 압축하는데 있어서 최상의 성능을 내는 것으로 알려져 있습니다. 우리의 웹사이트는 이미지를 제외한 대부분이 텍스트 콘텐츠로 구성되어 있습니다. 자바스크립트, HTML, CSS, JSON 등 사이트를 구성하는 거의 모든 요소가 텍스트 콘텐츠 입니다.\n\n<span class=\"point\">우리가 사용하는 대부분의 브라우저는 이미 gzip 압축프로그램을 내장하고 있습니다. 게다가 자동으로 gzip 으로 압축된 파일을 해제하는 기능도 탑재하고 있습니다. 즉, 서버에서 gzip 으로 압축된 형태의 텍스트 리소스가 내려오면 브라우저는 자동으로 gzip 압축을 해제하여 페이지를 표시합니다.</span>\n"}}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"사실 gzip 인코딩 기능은 HTTP/1.1 명세에 포함되어 있으며 HTTP/1.1 을 지원하는 대부분의 현재의 브라우저는 gzip 으로 압축된 콘텐츠를 사용 가능합니다.\n\n웹 사이트 응답속도 개선에 있어 가장 먼저 적용을 고려해야 하고 또 적용 이후에도 즉각적인 효과를 볼 수 있는 가장 탁월한 수단이 바로 gzip 압축 전송의 적용입니다. 웹서버에 간단한 설정만으로 적용이 가능하고 별다른 사이드 이펙트를 찾기도 어렵습니다. <span class=\"point\">gzip 압축이 영향을 주는 구간이 <b>웹서버와 사용자 브라우저 사이의 네트웍 구간</b>이기 때문에 프로그램의 실행 로직등에는 영향을 주지 않기 때문입니다.</span>"}}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"gzip 압축 전송을 이용하면 사이트 트래픽의 대부분을 점유하는 Big 3 (자바스크립트, CSS, HTML) 요소를 크게는 90% 가까이 압축하여 전송할 수 있기 때문에 네트웍 대역폭 사용량을 크게 감소시킬 수 있습니다."}}],[false,["$","h2",null,{"className":"heading_h2__fsXMw","style":{"fontWeight":"NORMAL"},"children":"gzip 압축을 적용하는 4가지 방법"}],false,false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"사이트에 gzip 압축을 적용하는 방법은 <b>응답할 데이터를 압축하는 작업을 누가 처리하도록 하느냐</b>에 따라서 크게 4가지로 구분 할 수 있습니다."}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Apache 나 Nginx 등 Web서버에서 처리하기"}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Tomcat 이나 Weblogic 등 어플리케이션 서버(Was)에서 처리하기"}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Servlet Filter 를 등록하여 처리하기"}}],["$","li","3",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"정적인 파일을 미리 gzip 으로 압축하여 올리기"}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"일반적으로는 Web 서버에서 처리하도록 하고 있으나, 프로젝트나 사이트의 사정에 따라서는 다른 방법을 고려할 수 도 있습니다. 가령 Web서버와 Was 구간의 대역폭을 확보해야 한다거나 하는 이유로 말이죠."}}],[false,false,["$","h3",null,{"className":"heading_h3__UisKt","style":{"fontWeight":"NORMAL"},"children":"nginx 에 gzip 으로 컨텐츠 압축 설정하기"}],false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"압축 설정은 가상 호스트마다 하지 말고 메인 설정 파일(/etc/nginx/nginx.conf) 의 http 블록에 설정하면 전역적으로 적용되므로 편리합니다."}}],["$","$L4",null,{"code":"http {\n  include       /etc/nginx/mime.types;\n  default_type  application/octet-stream;\n    \n  # 압축 설정\n}","children":"$undefined"}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"이 코드는 Nginx 웹 서버의 설정 파일(nginx.conf 또는 관련 설정 파일)에서 HTTP 블록의 일부를 나타냅니다."}}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<p><b>include /etc/nginx/mime.types;</b></p><p>/etc/nginx/mime.types 파일을 포함시켜 Nginx가 파일 확장자에 따라 적절한 <b>MIME 타입을 설정</b>하도록 합니다. 예를 들어 아래와 같이 처리됩니다.\n이를 통해 클라이언트(브라우저)가 파일을 올바르게 해석할 수 있습니다.</p>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":".html 파일은 text/html"}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"\t\t\t\t .jpg 파일은 image/jpeg"}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<p><b>default_type application/octet-stream;</b></p><p>/etc/nginx/mime.types 파일을 포함시켜 Nginx가 파일 확장자에 따라 적절한 <b>MIME 타입을 설정</b>하도록 합니다. 예를 들어 아래와 같이 처리됩니다.\n이를 통해 클라이언트(브라우저)가 파일을 올바르게 해석할 수 있습니다.</p>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"MIME 타입을 설정하지 않은 파일이나 알 수 없는 확장자의 파일에 대해 기본적으로 application/octet-stream 타입을 지정합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"application/octet-stream은 일반적인 바이너리 파일을 의미하며, 브라우저는 이를 다운로드하거나 기본적으로 처리합니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"제일 먼저 설정할 항목은 gzip on; 으로 컨텐츠 압축 사용을 지시하는 것입니다"}}],["$","$L4",null,{"code":"http {\n  gzip on;\n  gzip_disable \"msie6\";\n}","children":"$undefined"}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip on;</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Gzip 압축을 활성화합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"이를 통해 서버가 응답 데이터를 압축하여 클라이언트(브라우저)로 전송하므로, 데이터 전송량을 줄이고 페이지 로드 속도를 개선할 수 있습니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"압축 대상은 일반적으로 HTML, CSS, JavaScript, JSON, XML 등 텍스트 기반 파일입니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_disable \"msie6\";</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"특정 사용자 에이전트(브라우저)에 대해 Gzip 압축을 비활성화합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"여기서는 \"msie6\" (Microsoft Internet Explorer 6)을 대상으로 지정하여, 이 브라우저에서는 압축된 콘텐츠를 전송하지 않습니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Internet Explorer 6은 Gzip 압축 처리에 버그가 있거나 호환성 문제가 있을 수 있어, 이를 방지하기 위해 압축을 비활성화합니다."}}]]}],[false,false,["$","h3",null,{"className":"heading_h3__UisKt","style":{"fontWeight":"NORMAL"},"children":"nginx 에 gzip 으로 컨텐츠 압축 설정"}],false],["$","$L4",null,{"code":"gzip_comp_level 6;\ngzip_min_length 500;\ngzip_buffers 16 8k;\ngzip_proxied any;","children":"$undefined"}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_comp_level </b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Gzip 압축 수준을 설정합니다. 값은 1(최소 압축, 빠른 처리)에서 9(최대 압축, 느린 처리)까지 가능합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"6은 압축률과 성능 간의 균형이 좋은 중간 수준으로, 기본값이기도 합니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"높은 압축 수준은 파일 크기를 더 줄이지만 CPU 사용량이 증가합니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_min_length 500</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"압축을 적용할 응답 데이터의 최소 길이를 바이트 단위로 지정합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"여기서는 응답 데이터가 500바이트 이상일 때만 Gzip 압축을 적용합니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"작은 데이터는 압축해도 크기 감소 효과가 미미하므로, 불필요한 CPU 사용을 줄이기 위해 설정합니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_buffers 16 8k;</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Gzip 압축을 처리하기 위해 할당할 메모리 버퍼의 개수와 크기를 지정합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"16 8k는 16개의 8KB 버퍼를 사용한다는 의미입니다(총 128KB)."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"이 설정은 압축 데이터를 처리하는 데 필요한 메모리 공간을 정의하며, 서버의 메모리와 부하에 따라 조정할 수 있습니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_proxied any;</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"프록시된 요청에 대해 Gzip 압축을 적용할 조건을 설정합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"any는 모든 프록시 요청(예: CDN, 리버스 프록시 등)에 대해 압축을 활성화합니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"이는 클라이언트가 아닌 중간 프록시 서버를 통해 요청이 올 때도 압축된 데이터를 전송하도록 보장합니다."}}],["$","li","3",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"any: 항상 압축합니다."}}],["$","li","4",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"off: 프락시에서 요청할 경우 압축하지 않습니다."}}],["$","li","5",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"expired: 요청 헤더에 Expires 가 있고 만료되었을 경우에만 압축합니다."}}],["$","li","6",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"no-cache: 요청 헤더에 Cache-Control 가 있고 no-cache 일 경우에만 압축합니다."}}],["$","li","7",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"no-store: 요청 헤더에 Cache-Control 가 있고 no-store 일 경우에만 압축합니다."}}],"$undefined"]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"그 외 가능한 설정은 <a href=\"http://nginx.org/en/docs/http/ngx_http_gzip_module.html#gzip_proxied\">Nginx gzip_proxied Documentation</a>을 참고하세요."}}],[false,false,["$","h3",null,{"className":"heading_h3__UisKt","style":{"fontWeight":"NORMAL"},"children":"nginx 에 gzip 으로 content type 설정하기"}],false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"컨텐츠의 유형에 따라 gzip_types 지시자로 압축 여부를 설정할 수 있으며 아래 설정은 일반적으로 많이 사용하는 컨텐츠 유형에 대해 압축하는 예로 가독성을 위해 개행을 적용했습니다."}}],["$","$L4",null,{"code":"gzip_types\n    text/plain\n    text/css\n    text/js\n    text/xml\n    text/javascript\n    application/javascript\n    application/x-javascript\n    application/json\n    application/xml\n    application/rss+xml\n    image/svg+xml;","children":"$undefined"}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_types 지시문</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Gzip 압축을 적용할 콘텐츠의 MIME 타입을 정의합니다."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"기본적으로 text/html은 항상 압축되므로 이 목록에 포함되지 않아도 됩니다."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"이 설정은 gzip on;이 활성화된 경우에만 적용됩니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>지정된 MIME 타입</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>text/plain</b>: 일반 텍스트 파일(예: .txt)."}}],["$","li","1",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>text/css</b>: CSS 스타일시트 파일(예: .css)."}}],["$","li","2",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>text/js</b>: JavaScript 파일. 참고: text/js는 비표준 MIME 타입으로, 현대 웹에서는 application/javascript가 권장됩니다. 일부 레거시 시스템에서 사용될 수 있음."}}],["$","li","3",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>text/xml</b>: XML 형식의 텍스트 파일(예: .xml)."}}],["$","li","4",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>text/javascript</b>: JavaScript 파일. 참고: 과거에 사용되었으나, 현재는 application/javascript로 대체됨."}}],["$","li","5",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>application/javascript</b>: 현대 표준 JavaScript 파일(예: .js)."}}],["$","li","6",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>application/x-javascript</b>: JavaScript 파일의 비표준/레거시 MIME 타입. 호환성을 위해 포함."}}],["$","li","7",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>application/json</b>: JSON 데이터 파일(예: .json)."}}],["$","li","8",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>application/xml</b>: XML 형식의 애플리케이션 데이터."}}],["$","li","9",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>application/rss+xml</b>: RSS 피드(예: RSS XML 파일)."}}],["$","li","10",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"<b>image/svg+xml</b>: SVG 벡터 이미지 파일(예: .svg)."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"이 설정은 위 MIME 타입에 해당하는 파일이 클라이언트로 전송될 때 <span class=\"point\"><b>Gzip 압축을 적용하도록 Nginx에 지시</b></span>합니다.\n예를 들어 .css, .js, .json, .svg 등의 파일은 압축되어 전송되며, 이는 대역폭을 절약하고 페이지 로드 속도를 개선합니다.\ntext/js, text/javascript, application/x-javascript는 JavaScript 파일을 다양한 MIME 타입으로 처리하는 브라우저와의 호환성을 보장하기 위해 포함되었습니다."}}],[false,false,["$","h3",null,{"className":"heading_h3__UisKt","style":{"fontWeight":"NORMAL"},"children":"주의사항"}],false],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>비표준 MIME 타입</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"text/js와 application/x-javascript는 비표준이며, 최신 웹 환경에서는 application/javascript만 사용하는 것이 좋습니다. 하지만 레거시 클라이언트를 지원하려면 포함할 수 있습니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>기본값과의 중복</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"Nginx의 기본 gzip_types에는 text/html이 포함되어 있으므로, 이 설정은 추가적인 MIME 타입을 확장하는 역할을 합니다."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>압축 효율성</b>"}}],["$","ul",null,{"className":"liststyle_ul__uFdBS","children":[["$","li","0",{"className":"liststyle_dot__SMzS4","dangerouslySetInnerHTML":{"__html":"SVG(image/svg+xml)와 같은 파일은 텍스트 기반이므로 압축 효과가 크지만, 이미 압축된 파일(예: JPEG, PNG)은 gzip_types에 포함시키지 않는 것이 일반적입니다(압축 효과가 미미함)."}}]]}],["$","div",null,{"className":"postDetail_content__OTeO2","dangerouslySetInnerHTML":{"__html":"<b>gzip_types 설정</b>은 텍스트 기반 파일(CSS, JavaScript, JSON, XML, SVG 등)에 Gzip 압축을 적용하여 데이터 전송 효율성을 높입니다. 다양한 JavaScript MIME 타입을 포함해 호환성을 강화했으며, 특히 웹 애플리케이션에서 자주 사용되는 파일 형식을 대상으로 합니다. 최신 환경에서는 text/js와 같은 비표준 타입을 제거하고 간소화할 수 있습니다."}}],[false,false,["$","h3",null,{"className":"heading_h3__UisKt","style":{"fontWeight":"NORMAL"},"children":"nginx 에 gzip 으로 컨텐츠 압축 최종 코드"}],false],["$","$L4",null,{"code":"http {\n# nginx 의 메인 설정 파일인 nginx.conf 의 http 항목에 다음과 같이 설정\ninclude       /etc/nginx/mime.types;\ndefault_type  application/octet-stream;\n\t\n# 압축 설정\ngzip  on;\ngzip_disable \"msie6\";\n\n\ngzip_comp_level 6;\ngzip_min_length 1100;\ngzip_buffers 16 8k;\ngzip_proxied any;\n\ngzip_types\n  text/plain\n  text/css\n  text/js\n  text/xml\n  text/javascript\n  application/javascript\n  application/x-javascript\n  application/json\n  application/xml\n  application/rss+xml\n  image/svg+xml;\n}","children":"$undefined"}],[false,false,["$","blockquote",null,{"className":"Prompts_prompt_container__In47e Prompts_prompt__caN6p Prompts_prompt_warning__ZYPQt","children":["$","p",null,{"className":"Prompts_detail__nD6Io","dangerouslySetInnerHTML":{"__html":"압축을 하는데에도 시간이 조금 걸리지만 압축을 해제 하는 데에도 시간이 조금 걸리기 때문에 모든 파일을 압축하고 압축해제 하는 것 보다는 <b>파일의 크기가 2KB이상일 경우에는 압축을 하는것이 낫고 2KB 이하일 경우에는 압축을 진행하지 않는것이 더 효율적</b> 이라고 합니다."}}]}],false]],["$","$L5",null,{"postid":72,"prePostTitle":{"id":73,"title":"[TECH-QA] 훅으로 분리할 이유가 있을까?","date":"2025-06-19 13:52:33","folder":"Javascript","tag":["React","TECH-QA","리액트"],"preview":"커스텀 훅(Custom Hook)으로 로직을 분리하는 것은 React 개발에서 상태 관리, 비즈니스 로직, 또는 재사용 가능한 기능을 캡슐화하는 강력한 방법입니다.","post":[{"type":"normal","value":"커스텀 훅(Custom Hook)으로 분리한다는 것은 컴포넌트 내부의 상태 관리(useState), 부수 효과(useEffect), 또는 기타 로직을 별도의 함수(커스텀 훅)로 추출해 <b>컴포넌트와 독립적으로 관리</b>하는 것을 의미합니다. 커스텀 훅은 React의 훅(useState, useEffect 등)을 사용하며, 일반적으로 use로 시작하는 이름을 가집니다."},{"type":"keyword","keyworldTitle":"가독성과 유지보수성","value":"UI 렌더링과 기능 로직을 분리하여 가독성과 유지보수 향상 "},{"type":"stringlist","value":"컴포넌트 내부에 상태 관리와 UI 렌더링 로직이 섞여 있으면 코드가 복잡해지고 읽기 어려워집니다.\n훅으로 로직을 분리하면 컴포넌트는 JSX와 UI 렌더링에 집중하고, 로직은 별도로 관리되어 가독성이 향상됩니다."},{"type":"keyword","keyworldTitle":"재사용성","value":"동일한 로직을 여러 컴포넌트에서 사용할 때 "},{"type":"stringlist","value":"동일한 로직을 여러 컴포넌트에서 사용할 때, 훅으로 분리하면 중복 코드를 줄이고 일관성을 유지할 수 있습니다.\n비록 현재 재사용하지 않더라도, 나중에 필요할 가능성을 대비해 분리하는 것이 유리할 수 있습니다."},{"type":"keyword","keyworldTitle":"테스트 용이성","value":"UI렌더링과 기능 로직은 분리하여 독립적으로 검증 가능"},{"type":"stringlist","value":"훅은 컴포넌트와 독립적으로 테스트할 수 있습니다. UI를 렌더링하지 않고 로직만 검증 가능.\n예: useCounter 훅을 테스트할 때, 카운트 증가와 타이머 동작을 별도로 확인할 수 있습니다."},{"type":"keyword","keyworldTitle":"기능 별로 분리","value":"상태 관리, 데이터 fetching, 이벤트 처리, 캡슐화 "},{"type":"stringlist","value":"상태 관리, 데이터 fetching, 이벤트 처리 등 특정 기능(관심사)을 훅으로 캡슐화해 컴포넌트의 책임을 줄입니다.\n이는 코드의 모듈화와 유지보수성을 높입니다."},{"type":"keyword","keyworldTitle":"복잡한 로직 관리","value":"로직을 체계적으로 구조화"},{"type":"stringlist","value":"로직이 복잡할수록(예: 여러 useState, useEffect 조합) 컴포넌트 내부에 두면 관리가 어렵습니다. 훅으로 분리하면 로직을 체계적으로 구조화할 수 있습니다."},{"type":"Heading","headingType":"h2","value":"언제 훅으로 분리해야 하나?"},{"type":"stringlist","value":"로직이 복잡하거나 여러 줄의 코드를 차지할 때(예: useEffect와 useState가 조합된 경우).\n가독성을 높이고 컴포넌트를 간결하게 유지하고 싶을 때.\n테스트를 독립적으로 수행하고 싶을 때.\n현재 또는 미래에 로직을 재사용할 가능성이 있을 때.\n예) 데이터 fetching, 폼 관리, 타이머, 애니메이션 등."},{"type":"Heading","headingType":"h2","value":"분리하지 않아도 되는 경우?"},{"type":"stringlist","value":"로직이 매우 단순할 때(예: 단일 useState로 충분한 경우).\n로직이 특정 컴포넌트에 강하게 의존적이고 재사용 가능성이 전혀 없을 때.\n추가 파일을 만드는 오버헤드가 로직의 복잡도에 비해 클 때.\n예) const [isOpen, setIsOpen] = useState(false); 같은 단순한 상태 관리."}]},"nextPostTile":{"id":71,"title":"[TECH-QA] 모달을 통해 알아보는 동적 임포트(Dynamic Import)와 지연 로딩(Lazy Loading)을 활용 및 팩토리패턴","date":"2025-05-04 17:14:33","folder":"Javascript","tag":["브라우저","TECH-QA","웹성능최적화","팩토리패턴"],"preview":"화면에서 쿨락헌 순간 모달에 관련된 파일들을 불러오고 모달에 관련된 파일들이 모두 불러와지면 Javascript를 Evaluate하고 모달이 뜨도록 코드를 실행하고 모달이 오픈된다.","post":[{"type":"ImageLoader","value":"","imageloader":{"imgPath":"lazyLoading_1.jpg","alt":"lazyLoading_1 단점","width":"80%","round":"12px"}},{"type":"normal","value":"Lazy loading시 화면에서 클락한 순간 모달에 관련된 파일들을 불러오고 모달에 관련된 파일들이 모두 불러와지면 Javascript를 Evaluate하고 모달이 뜨도록 코드를 실행하고 모달이 오픈된다.\n\n즉 최초 로딩 시점에서는 페이지 로딩이 빨라졌지만 모달을 띄울때는 오히려 성능이 더 느려진것을 볼 수 있다.\n"},{"type":"Heading","headingType":"h2","value":"컴포넌트 preload로 성능 개선하기"},{"type":"normal","value":"버튼을 눌러 모달을 열기 전에 미리 모달과 관련된 코드들을 로드해 놓는다. 모달에 관련된 코드는 미리 로드가 되었으므로 클릭한 순간에 바로 모달의 화면을 확인 할 수 있다."},{"type":"Heading","headingType":"h4","value":"버튼위에 마우스를 올려 놨을때 모달을 로딩 하는 방법"},{"type":"code","value":"const handlerMouseEnter = () => {\n  const lazyModalComponent = import('./components/ImageModal');\n}"},{"type":"Heading","headingType":"h4","value":"최초 페이지 로드에서 중요 파일들의 로드가 완료 된후 모달 로딩"},{"type":"normal","value":"중요 파일들의 컴포넌트가 모두 마운트 된 후에 모달을 import 해주도록 한다."},{"type":"code","value":"useEffect(()=> {\n  const lazyModalComponent = import('./components/ImageModal');\n},[])"},{"type":"Heading","headingType":"h4","value":"여러 컴포넌트를 프리로드 해줘야 할 경우"},{"type":"normal","value":"매번 import를 써주기는 번거로울때 팩토리 패턴으로 함수를 만들어서 사용하도록 하는 방법."},{"type":"code","value":"function lazyWidthPreload(importFunction){\n  const Component = React.lazy(importFunction);\n  Component.preload = importFunction;\n  return Component;\n}\n\nconst lazyImageModal = lazyWidthPreload(() =>  import('./components/ImageModal'));\n\nuseEffect(()=> {\n  lazyImageModal.preload(); \n},[])"},{"type":"Heading","headingType":"h4","value":"1. lazyWidthPreload 함수"},{"type":"code","value":"function lazyWidthPreload(importFunction) {\n  const Component = React.lazy(importFunction);\n  Component.preload = importFunction;\n  return Component;\n}"},{"type":"normal","value":"React의 React.lazy를 확장하여, 컴포넌트를 지연 로딩하면서도 필요할 때 미리 로드(preload)할 수 있도록 기능을 추가합니다."},{"type":"stringlist","value":"<b>importFunction</b>: 동적 임포트를 위한 함수 (예: () => import('./someComponent')).\n<b>React.lazy(importFunction)</b>: 주어진 importFunction을 사용해 컴포넌트를 지연 로딩하도록 설정합니다. 이로 인해 컴포넌트는 처음 렌더링 시 로드되지 않고, <b>필요할 때 비동기적으로 로드</b>됩니다.\nComponent.preload = importFunction: Component에 preload 메서드를 추가하여, 개발자가 원할 때 해당 컴포넌트를 미리 로드할 수 있도록 합니다.\nreturn Component: 지연 로딩 컴포넌트를 반환하며, preload 메서드가 추가된 상태입니다."},{"type":"Heading","headingType":"h4","value":"2. lazyImageModal 생성"},{"type":"code","value":"const lazyImageModal = lazyWidthPreload(() => import('./components/ImageModal'));"},{"type":"stringlist","value":"<b>설명</b>: lazyWidthPreload를 사용하여 ./components/ImageModal 컴포넌트를 지연 로딩하도록 설정합니다.\n<b>결과</b>: lazyImageModal은 React.lazy로 생성된 지연 로딩 컴포넌트이며, 추가로 preload 메서드를 통해 ImageModal을 미리 로드할 수 있습니다.\n<b>장점</b>: 초기 번들 크기를 줄이고, ImageModal이 필요할 때만 로드하여 성능을 최적화합니다."},{"type":"Heading","headingType":"h4","value":"3. useEffect로 preload 호출"},{"type":"code","value":"useEffect(() => {\n  lazyImageModal.preload();\n}, []);"},{"type":"normal","value":"컴포넌트가 마운트될 때 lazyImageModal의 preload 메서드를 호출하여 ImageModal 컴포넌트를 미리 로드합니다. 사용자가 곧 ImageModal을 열 가능성이 높은 경우, 미리 로드하여 사용자 경험을 개선할 수 있습니다."},{"type":"stringlist","value":"useEffect는 컴포넌트가 마운트된 후 실행되며, 의존성 배열 []를 사용하므로 한 번만 실행됩니다.\n<span class=\"point\">lazyImageModal.preload()</span>: ImageModal 컴포넌트를 비동기적으로 로드하여, 이후 렌더링 시 지연 없이 사용할 수 있도록 준비합니다."},{"type":"Heading","headingType":"h2","value":"정리"},{"type":"stringlist","value":"<b>지연 로딩</b>: React.lazy를 통해 ImageModal 컴포넌트를 초기 로드에서 제외하여 페이지 로딩 속도를 향상시킵니다. 웹 앱이 로드될 때 ImageModal은 로드되지 않음 (초기 로딩 속도 개선).\n<b>미리 로드</b>: preload 메서드를 통해 필요한 시점에 컴포넌트를 미리 로드하여, 사용자가 컴포넌트를 요청할 때 대기 시간을 줄입니다. 컴포넌트 마운트 시 useEffect가 lazyImageModal.preload()를 호출하여 ImageModal을 백그라운드에서 로드.\n<b>성능 최적화</b>: 초기 번들 크기를 줄이고, 필요한 컴포넌트만 로드하며, 사용자 인터랙션에 따라 동적으로 리소스를 관리합니다. 사용자가 ImageModal을 열 때, 이미 로드된 컴포넌트가 즉시 렌더링되어 부드러운 경험 제공."},{"type":"Heading","headingType":"h2","value":"Suspense"},{"type":"normal","value":"React.lazy로 로드된 컴포넌트를 렌더링하려면 <Suspense>로 감싸야 하며, 로딩 상태를 처리하기 위해 fallback UI를 제공해야 합니다."},{"type":"code","value":"<Suspense fallback={<div>Loading...</div>}>\n  <lazyImageModal />\n</Suspense>"},{"type":"stringlist","value":"<b>네트워크 상태 고려</b>: preload는 네트워크 요청을 발생시키므로, 네트워크가 느린 환경에서는 타이밍을 조정하거나 조건부로 호출하는 것이 좋습니다.\n<b>의존성 배열</b>: useEffect의 []는 한 번만 실행되도록 보장하지만, 특정 조건에 따라 preload를 호출하려면 의존성을 추가할 수 있습니다."}]},"segment":"posts"}],["$","div",null,{"className":"footer_footer_container__MsSvO","children":["$","footer",null,{"className":"footer_footer__AwYty","children":[["$","p",null,{"className":"footer_copylight___J5l0","children":["© 2024 ","베짱이가 되고싶은 개미。"," Some rights reserved."]}],["$","p",null,{"className":"footer_theme__bwXbg","children":"portfolio v1.0.0-alpha.3"}]]}]}]],null]]},["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(layoutCase)","children","tags","children","$7","children","$8","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/175d6c648827cdb6.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(layoutCase)","children","tags","children","$7","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(layoutCase)","children","tags","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]],"search":["__DEFAULT__",{},["$a","$Lc",null]]},[null,["$","$Ld",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(layoutCase)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}],"search":["$","$L6",null,{"parallelRouterKey":"search","segmentPath":["children","(layoutCase)","search"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$e","styles":null}],"params":{}}],null]]},[null,["$","html",null,{"lang":"en","className":"","children":[["$","head",null,{"children":[["$","link",null,{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css","as":"style"}],["$","link",null,{"rel":"preconnect","href":"https://fonts.googleapis.com"}],["$","link",null,{"rel":"preconnect","href":"https://fonts.gstatic.com"}],["$","link",null,{"rel":"stylesheet","href":"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&display=swap","as":"style"}]]}],["$","body",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$f","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$10","children":"404"}],["$","div",null,{"style":"$11","children":["$","h2",null,{"style":"$12","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/0c496b0e03d530ba.css","precedence":"next","crossOrigin":""}]]}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5048045ff4a95083.css","precedence":"next","crossOrigin":""}]],"$L13"]]]]
c:E{"digest":"NEXT_NOT_FOUND"}
13:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"be come 💡"}],["$","meta","3",{"name":"description","content":"App for an Ant Who Wants to Become a Bejjangyi"}]]
1:null
b:null
